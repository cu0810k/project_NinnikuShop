{"version":3,"file":"js/144.f793a6e1.js","mappings":"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","sources":["webpack://week8_0626/./src/mixins/addToCart.js","webpack://week8_0626/./src/views/HomeView.vue","webpack://week8_0626/./src/views/HomeView.vue?1da1"],"sourcesContent":["export default {\n  data () {\n    return {\n      wishProduct: JSON.parse(localStorage.getItem('wishProduct')) || []\n    }\n  },\n  methods: {\n    addToCart (id, qty = 1) {\n      // console.log(id)\n      const url = process.env.VUE_APP_API // https://vue3-course-api.hexschool.io/v2\n      const path = process.env.VUE_APP_PATH // vue_cu\n\n      const data = {\n        data: {\n          product_id: id,\n          qty: qty\n        }\n      }\n\n      this.isLoading = true\n\n      this.$http.post(`${url}/api/${path}/cart`, data)\n        .then(res => {\n          // console.log(res.data.message)\n          // this.$mitt.emit('update-cart')\n          this.isLoading = false\n          this.$mitt.emit('update-count')\n        })\n        .catch(err => {\n          console.dir(err.response.data.message)\n        })\n    }\n  }\n}\n","<template>\n  <VLoading :active=\"isLoading\"></VLoading>\n  <NavBar />\n  <main>\n    <div class=\"container-fluid wrap\">\n      <img src=\"../assets/wrap.png\" alt=\"\" class=\"img-fluid mx-auto d-block\" />\n    </div>\n    <div class=\"promoCode\">\n      <p>\n        <span>7/1~7/15</span>折扣優惠碼輸入「<strong>Ninniku75</strong>」\n        全品項享75折\n      </p>\n    </div>\n    <div id=\"main-index\">\n      <h2 class=\"best_seller\">熱銷商品</h2>\n      <div class=\"container-fluid con-product\">\n        <div class=\"row card-list\">\n          <template v-for=\"product in products\" :key=\"product.id\">\n            <div class=\"col-6 col-md-4 col-lg-3\" v-show=\"product.is_hot\">\n              <div class=\"card\">\n                <div class=\"card-pic\">\n                  <i\n                    class=\"add_to_wishlist bi bi-heart-fill\"\n                    @click.prevent=\"addToWish(product.id)\"\n                    v-if=\"wishProduct.includes(product.id)\"\n                  >\n                  </i>\n                  <i\n                    class=\"add_to_wishlist bi bi-heart\"\n                    @click.prevent=\"addToWish(product.id)\"\n                    v-else\n                  >\n                  </i>\n                  <a\n                    class=\"add_to_cart\"\n                    href=\"#\"\n                    @click.prevent=\"addToCart(product.id)\"\n                    >加入購物車</a\n                  >\n                  <img\n                    :src=\"product.imageUrl\"\n                    class=\"card-img-top\"\n                    :alt=\"product.title\"\n                  />\n                </div>\n                <div class=\"card-body\">\n                  <a\n                    class=\"card-title\"\n                    href=\"#\"\n                    @click.prevent=\"getProduct(product.id)\"\n                    >{{ product.title }}</a\n                  >\n                  <span class=\"card-price\">NT {{ product.price }}</span>\n                </div>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <router-link class=\"btn_more\" to=\"/products\">VIEW MORE</router-link>\n    </div>\n\n    <div class=\"container-fluid con-service\">\n      <div class=\"row\">\n        <div class=\"col-sm-4 service_item\">\n          <div class=\"pic\">\n            <img src=\"../assets/滿額免運.png\" alt=\"\" class=\"img-fluid\" />\n          </div>\n          <div class=\"txt\">\n            <span>滿額免運</span>\n            <p>消費滿$666免運</p>\n          </div>\n        </div>\n        <div class=\"col-sm-4 service_item\">\n          <div class=\"pic\">\n            <img src=\"../assets/快速出貨.png\" alt=\"\" class=\"img-fluid\" />\n          </div>\n          <div class=\"txt\">\n            <span>快速配送</span>\n            <p>24小時快速出貨</p>\n          </div>\n        </div>\n        <div class=\"col-sm-4 service_item\">\n          <div class=\"pic\">\n            <img src=\"../assets/退換貨.png\" alt=\"\" class=\"img-fluid\" />\n          </div>\n          <div class=\"txt\">\n            <span>退換貨保證</span>\n            <p>商品退換貨保證</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\n// @ is an alias to /src\nimport NavBar from '@/components/NavBar.vue'\nimport addToWish from '@/mixins/addToWish'\nimport addToCart from '@/mixins/addToCart'\n\nexport default {\n  name: 'HomeView',\n  data () {\n    return {\n      products: [],\n      wishCount: 0,\n      cartCount: 0,\n      carts: [],\n      isLoading: false\n    }\n  },\n  mixins: [addToWish, addToCart],\n  components: {\n    NavBar\n  },\n  methods: {\n    getProducts () {\n      const url = process.env.VUE_APP_API // https://vue3-course-api.hexschool.io/v2\n      const path = process.env.VUE_APP_PATH // vue_cu\n      this.isLoading = true\n      this.$http.get(`${url}/api/${path}/products/all`)\n        .then(res => {\n          this.products = res.data.products\n          this.isLoading = false\n          // console.log(res)\n        })\n        .catch(err => {\n          console.dir(err.response.data.message)\n        })\n    },\n    getProduct (id) {\n      this.$router.push(`/product/${id}`)\n    },\n    getCart () {\n      const url = process.env.VUE_APP_API // https://vue3-course-api.hexschool.io/v2\n      const path = process.env.VUE_APP_PATH // vue_cu\n\n      this.$http.get(`${url}/api/${path}/cart`)\n        .then(res => {\n          this.carts = res.data.data\n          this.cartCount = this.carts.carts.length\n        })\n        .catch(err => {\n          console.dir(err.response.data.message)\n        })\n    }\n  },\n  mounted () {\n    this.getProducts()\n\n    // 讀取收藏商品數量\n    this.wishCount = this.wishProduct.length\n\n    // 監聽收藏\n    // emitter.on('update-wish', (msgData) => (this.wishCount = msgData))\n    this.$mitt.on('update-wish', (msgData) => (this.wishCount = msgData))\n\n    // 抓取購物車資料\n    this.getCart()\n\n    // 監聽購物車\n    // this.$mitt.on('update-cart', () => {\n    //   this.getCart()\n    // })\n\n    // 合併監聽\n    this.$mitt.on('update-count', (data) => {\n      if (data === undefined) {\n        this.getCart()\n        // console.log('更新購物車')\n      } else {\n        this.wishCount = data\n        // console.log('更新收藏')\n      }\n    })\n  },\n  beforeUnmount () {\n    // 銷毁監聽\n    this.$mitt.off('update-count')\n  }\n}\n</script>\n\n<style scoped>\n/* navbar\n===============================*/\n.navbar {\n  margin: auto;\n}\n\n.navbar.is-scroll {\n  margin-top: 0;\n  width: 100%;\n  max-width: 100%;\n  border-radius: 0px;\n  transition: 0.3s;\n}\n\n@media (min-width: 992px) {\n  .navbar {\n    width: 90%;\n    max-width: 900px;\n    margin-top: 30px;\n    border-radius: 15px;\n  }\n\n  .navbar.is-scroll {\n    border-radius: 0px;\n  }\n}\n/* wrap\n===============================*/\n\n.wrap {\n  background: #da000d;\n  padding: 115px 30px 50px 30px;\n}\n\n@media (min-width: 992px) {\n  .wrap {\n    padding-top: 165px;\n  }\n}\n\n/* coupon\n===============================*/\n\n.promoCode {\n  background-color: #000;\n  background-position: center 15px;\n  padding: 20px 15px;\n  color: #fff;\n}\n\n.promoCode p {\n  font-family: \"Dela Gothic One\", cursive;\n  font-size: 1.2rem;\n  text-align: center;\n  letter-spacing: 2.5px;\n  margin-bottom: 0;\n  transform: scale(1, 1.2);\n}\n\n.promoCode span {\n  background: #fff;\n  color: #000;\n  padding: 0 10px;\n  margin-right: 10px;\n}\n\n.promoCode strong {\n  color: #fffc00;\n}\n\n@media (min-width: 992px) {\n  .promoCode {\n    font-size: 2rem;\n    padding: 35px 15px;\n  }\n\n  .promoCode p {\n    font-size: 1.8rem;\n  }\n}\n\n/* 首頁-熱銷商品\n===============================*/\n\n#main-index {\n  text-align: center;\n  background-color: #ffe900;\n  background-image: url(../assets/sec3_bg_pc2.jpg);\n  padding: 80px 0;\n  padding: 40px 0;\n}\n\n.best_seller {\n  margin-bottom: 0;\n  font-weight: 600;\n  color: #5d4c46;\n  position: relative;\n  font-size: 1.5rem;\n  position: relative;\n  letter-spacing: 1.3px;\n  display: inline-block;\n  /* background-color: #000; */\n  text-align: center;\n  margin-bottom: 55px;\n}\n\n.best_seller::after {\n  content: \"\";\n  display: block;\n  width: 60%;\n  height: 3px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: -15px;\n  margin: auto;\n  background: #5d4c46;\n}\n\n@media (min-width: 992px) {\n  #main-index {\n    padding: 100px 0;\n  }\n\n  .best_seller {\n    font-size: 2.3rem;\n  }\n}\n\n.con-product {\n  text-align: center;\n  padding: 13px 25px;\n  max-width: 1300px;\n  border-radius: 10px;\n  background-color: #fff;\n}\n\n/*---*/\n\n.btn_more {\n  display: inline-block;\n  font-size: 1rem;\n  text-decoration: none;\n  color: #fff;\n  background-color: #5d4c46;\n  font-weight: 600;\n  padding: 10px 40px;\n  border-radius: 50px;\n  position: relative;\n  box-shadow: 0px 5px 0px 0px #52423c;\n  margin-top: 40px;\n}\n\n.btn_more:hover {\n  top: 5px;\n  color: #fff;\n  box-shadow: 0px 0px 0px 0px #52423c;\n}\n\n@media (min-width: 992px) {\n  .btn_more {\n    font-size: 1.3rem;\n  }\n}\n\n/* service\n===============================*/\n\n.con-service {\n  padding: 50px 15px;\n  background-color: #fff;\n}\n\n.con-service .row {\n  max-width: 1100px;\n  margin: auto;\n}\n\n.service_item {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: flex-end;\n}\n\n.service_item:nth-child(even) {\n  margin: 20px 0;\n}\n\n.service_item .pic {\n  width: 40%;\n  flex-shrink: 0;\n  align-self: center;\n  text-align: center;\n}\n\n.service_item:nth-child(1) .pic img {\n  width: 70%;\n}\n\n.service_item .pic img {\n  width: 50%;\n}\n\n.service_item .txt {\n  flex-grow: 1;\n  text-align: left;\n  padding-left: 20px;\n  padding-top: 10px;\n}\n\n.service_item .txt span {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n@media (min-width: 576px) {\n  .service_item:nth-child(even) {\n    margin: 0;\n  }\n\n  .service_item .pic {\n    width: 100%;\n  }\n\n  .service_item:nth-child(1) .pic img,\n  .service_item .pic img {\n    width: auto;\n  }\n\n  .service_item .txt {\n    text-align: center;\n    padding-left: 0px;\n  }\n}\n\n@media (min-width: 992px) {\n  .con-service {\n    padding: 100px 15px;\n  }\n\n  .service_item {\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n\n  .service_item .pic {\n    width: auto;\n    text-align: left;\n  }\n\n  .service_item .txt {\n    flex-grow: 0;\n    padding-left: 20px;\n    text-align: left;\n    padding-top: 0;\n  }\n\n  .service_item .txt span {\n    font-size: 1.5rem;\n  }\n}\n</style>\n","import { render } from \"./HomeView.vue?vue&type=template&id=237b8232&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=237b8232&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\我的待業日子\\\\HomeWork\\\\week8_0626\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237b8232\"]])\n\nexport default __exports__"],"names":["data","wishProduct","JSON","parse","localStorage","getItem","methods","addToCart","id","qty","url","process","path","product_id","this","isLoading","$http","post","then","res","$mitt","emit","catch","err","console","dir","response","message","_createElementVNode","class","src","_imports_0","alt","_createVNode","_component_VLoading","active","$data","_component_NavBar","_hoisted_1","_hoisted_2","_hoisted_4","_createElementBlock","_Fragment","_renderList","product","_ctx","includes","onClick","href","_hoisted_11","imageUrl","title","$options","_hoisted_14","_toDisplayString","price","is_hot","_component_router_link","to","_hoisted_17","name","products","wishCount","cartCount","carts","mixins","addToWish","components","NavBar","getProducts","get","getProduct","$router","push","getCart","length","mounted","on","msgData","undefined","beforeUnmount","off","__exports__","render"],"sourceRoot":""}