"use strict";(self["webpackChunkweek8_0626"]=self["webpackChunkweek8_0626"]||[]).push([[717],{8681:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var i=s(6252),c=s(3577),l=s(9963),o=s(4542),u=s(3299);const d=t=>((0,i.dD)("data-v-37ce52e0"),t=t(),(0,i.Cn)(),t),a=d((()=>(0,i._)("div",{class:"top_pic"},[(0,i._)("img",{src:o,alt:"",class:"img-fluid"})],-1))),n={id:"main-wishList"},r={class:"container-fluid con-wishList"},h={class:"row justify-content-center"},p={class:"wishList-inner"},m=d((()=>(0,i._)("h3",null,"追蹤清單",-1))),v={key:0,class:"pic"},_=d((()=>(0,i._)("img",{src:u,alt:"",class:"img-fluid"},null,-1))),g=[_],P={key:1},w={class:"table table-hover align-middle wishList-table"},f=d((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"圖片"),(0,i._)("th",{scope:"col"},"商品名稱"),(0,i._)("th",{scope:"col"},"價格"),(0,i._)("th",{scope:"col"},"刪除")])],-1))),b=["src","alt"],k=["value"],D={class:"btn-delGroup"};function F(t,e,s,o,u,d){const _=(0,i.up)("VLoading"),F=(0,i.up)("NavBar"),L=(0,i.up)("RouterLink");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(_,{active:u.isLoading},null,8,["active"]),(0,i.Wm)(F),a,(0,i._)("main",n,[(0,i._)("div",r,[(0,i._)("div",h,[(0,i._)("div",p,[m,0===t.wishProduct.length?((0,i.wg)(),(0,i.iD)("div",v,g)):((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("table",w,[f,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.tempFavProduct,(s=>((0,i.wg)(),(0,i.iD)("tr",{key:s.id},[(0,i._)("td",null,[(0,i._)("img",{src:s.imageUrl,alt:s.title,class:"img-fluid"},null,8,b)]),(0,i._)("td",null,[(0,i.Wm)(L,{to:`/product/${s.id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(s.title),1)])),_:2},1032,["to"])]),(0,i._)("td",null,(0,c.zw)(t.$currency(s.price)),1),(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox",id:"checkboxNoLabel",value:s.id,"onUpdate:modelValue":e[0]||(e[0]=t=>u.temDelProduct=t)},null,8,k),[[l.e8,u.temDelProduct]])])])))),128))])]),(0,i._)("div",D,[(0,i._)("button",{type:"button",class:"btn",onClick:e[1]||(e[1]=(...t)=>d.selectAll&&d.selectAll(...t))},"全選"),(0,i._)("button",{type:"button",class:"btn",onClick:e[2]||(e[2]=(...t)=>d.DelFavProduct&&d.DelFavProduct(...t))}," 刪除 ")])]))])])])])],64)}s(6699);var L=s(902),y=s(874),x={name:"ProductsView",data(){return{products:[],tempFavProduct:[],temDelProduct:[],isLoading:!1}},mixins:[y.Z],components:{NavBar:L.Z},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/v2",e="vue_cu";this.isLoading=!0,this.$http.get(`${t}/api/${e}/products/all`).then((t=>{this.products=t.data.products,this.FavProducts(),this.isLoading=!1})).catch((t=>{console.dir(t.response.data.message)}))},FavProducts(){this.wishProduct.forEach((t=>{this.tempFavProduct.push(this.products.filter(((e,s,i)=>this.products[s].id===t)))})),this.tempFavProduct=this.tempFavProduct.flat()},DelFavProduct(t){this.wishProduct=this.wishProduct.filter((t=>!this.temDelProduct.includes(t))),this.tempFavProduct=[],this.FavProducts()},selectAll(){this.temDelProduct=[...this.wishProduct]}},mounted(){this.getProducts()}},C=s(3744);const $=(0,C.Z)(x,[["render",F],["__scopeId","data-v-37ce52e0"]]);var A=$},3299:function(t,e,s){t.exports=s.p+"img/noProduct.40010a11.png"},4542:function(t,e,s){t.exports=s.p+"img/product_bg.a6d59d33.png"}}]);
//# sourceMappingURL=717.10f6a52e.js.map